/*
Generated by cue.

No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)

API version: no version
*/

// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.

package keda_auto_scaler

import (
	"encoding/json"
	"errors"

	"github.com/oam-dev/kubevela-core-api/apis/core.oam.dev/common"
	"github.com/oam-dev/kubevela-core-api/pkg/oam/util"

	"github.com/kubevela-contrib/kubevela-go-sdk/pkg/apis"
	sdkcommon "github.com/kubevela-contrib/kubevela-go-sdk/pkg/apis/common"
	"github.com/kubevela-contrib/kubevela-go-sdk/pkg/apis/utils"
)

// checks if the KedaAutoScalerSpec type satisfies the MappedNullable interface at compile time
var _ utils.MappedNullable = &KedaAutoScalerSpec{}

// KedaAutoScalerSpec struct for KedaAutoScalerSpec
type KedaAutoScalerSpec struct {
	// Specify the cool down period that prevents the scaler from scaling down after each trigger activation. Default: 60 seconds
	CooldownPeriod *int32    `json:"cooldownPeriod"`
	Fallback       *Fallback `json:"fallback"`
	// Specify the idle period that the scaler to scale to zero.Properties. Default: ignored, must be less than minReplicaCount.
	IdleReplicaCount *int32 `json:"idleReplicaCount"`
	// Specify the maximal replica count. Default: 100.
	MaxReplicaCount *int32 `json:"maxReplicaCount"`
	// Specify the minimal replica count. Default: 0.
	MinReplicaCount *int32 `json:"minReplicaCount"`
	// specify the polling interval of metrics,  Default: 30 seconds
	PollingInterval *int32          `json:"pollingInterval"`
	ScaleTargetRef  *ScaleTargetRef `json:"scaleTargetRef"`
	Triggers        []Trigger       `json:"triggers"`
}

// NewKedaAutoScalerSpecWith instantiates a new KedaAutoScalerSpec object
// This constructor will make sure properties required by API are set.
// For optional properties, it will set default values if they have been defined.
// The set of arguments will change when the set of required properties is changed
func NewKedaAutoScalerSpecWith(cooldownPeriod int32, fallback Fallback, idleReplicaCount int32, maxReplicaCount int32, minReplicaCount int32, pollingInterval int32, scaleTargetRef ScaleTargetRef, triggers []Trigger) *KedaAutoScalerSpec {
	this := KedaAutoScalerSpec{}
	this.CooldownPeriod = &cooldownPeriod
	this.Fallback = &fallback
	this.IdleReplicaCount = &idleReplicaCount
	this.MaxReplicaCount = &maxReplicaCount
	this.MinReplicaCount = &minReplicaCount
	this.PollingInterval = &pollingInterval
	this.ScaleTargetRef = &scaleTargetRef
	this.Triggers = triggers
	return &this
}

// NewKedaAutoScalerSpecWithDefault instantiates a new KedaAutoScalerSpec object
// This constructor will only assign default values to properties that have it defined,
// but it doesn't guarantee that properties required by API are set
func NewKedaAutoScalerSpecWithDefault() *KedaAutoScalerSpec {
	this := KedaAutoScalerSpec{}
	var cooldownPeriod int32 = 60
	this.CooldownPeriod = &cooldownPeriod
	var idleReplicaCount int32 = 0
	this.IdleReplicaCount = &idleReplicaCount
	var maxReplicaCount int32 = 100
	this.MaxReplicaCount = &maxReplicaCount
	var minReplicaCount int32 = 1
	this.MinReplicaCount = &minReplicaCount
	var pollingInterval int32 = 30
	this.PollingInterval = &pollingInterval
	return &this
}

// NewKedaAutoScalerSpec is short for NewKedaAutoScalerSpecWithDefault which instantiates a new KedaAutoScalerSpec object.
// This constructor will only assign default values to properties that have it defined,
// but it doesn't guarantee that properties required by API are set
func NewKedaAutoScalerSpec() *KedaAutoScalerSpec {
	return NewKedaAutoScalerSpecWithDefault()
}

// NewKedaAutoScalerSpecEmpty instantiates a new KedaAutoScalerSpec object with no properties set.
// This constructor will not assign any default values to properties.
func NewKedaAutoScalerSpecEmpty() *KedaAutoScalerSpec {
	this := KedaAutoScalerSpec{}
	return &this
}

// NewKedaAutoScalerSpecs converts a list KedaAutoScalerSpec pointers to objects.
// This is helpful when the SetKedaAutoScalerSpec requires a list of objects
func NewKedaAutoScalerSpecList(ps ...*KedaAutoScalerSpec) []KedaAutoScalerSpec {
	objs := []KedaAutoScalerSpec{}
	for _, p := range ps {
		objs = append(objs, *p)
	}
	return objs
}

// Validate validates this KedaAutoScalerSpec
// 1. If the required properties are not set, this will return an error
// 2. If properties are set, will check if nested required properties are set
func (o *KedaAutoScalerTrait) Validate() error {
	if o.Properties.CooldownPeriod == nil {
		return errors.New("CooldownPeriod in KedaAutoScalerSpec must be set")
	}
	if o.Properties.Fallback == nil {
		return errors.New("Fallback in KedaAutoScalerSpec must be set")
	}
	if o.Properties.IdleReplicaCount == nil {
		return errors.New("IdleReplicaCount in KedaAutoScalerSpec must be set")
	}
	if o.Properties.MaxReplicaCount == nil {
		return errors.New("MaxReplicaCount in KedaAutoScalerSpec must be set")
	}
	if o.Properties.MinReplicaCount == nil {
		return errors.New("MinReplicaCount in KedaAutoScalerSpec must be set")
	}
	if o.Properties.PollingInterval == nil {
		return errors.New("PollingInterval in KedaAutoScalerSpec must be set")
	}
	if o.Properties.ScaleTargetRef == nil {
		return errors.New("ScaleTargetRef in KedaAutoScalerSpec must be set")
	}
	if o.Properties.Triggers == nil {
		return errors.New("Triggers in KedaAutoScalerSpec must be set")
	}
	// validate all nested properties
	if o.Properties.Fallback != nil {
		if err := o.Properties.Fallback.Validate(); err != nil {
			return err
		}
	}
	if o.Properties.ScaleTargetRef != nil {
		if err := o.Properties.ScaleTargetRef.Validate(); err != nil {
			return err
		}
	}
	return nil
}

// GetCooldownPeriod returns the CooldownPeriod field value
func (o *KedaAutoScalerTrait) GetCooldownPeriod() int32 {
	if o == nil {
		var ret int32
		return ret
	}

	return *o.Properties.CooldownPeriod
}

// GetCooldownPeriodOk returns a tuple with the CooldownPeriod field value
// and a boolean to check if the value has been set.
func (o *KedaAutoScalerTrait) GetCooldownPeriodOk() (*int32, bool) {
	if o == nil {
		return nil, false
	}
	return o.Properties.CooldownPeriod, true
}

// SetCooldownPeriod sets field value
func (o *KedaAutoScalerTrait) SetCooldownPeriod(v int32) *KedaAutoScalerTrait {
	o.Properties.CooldownPeriod = &v
	return o
}

// GetFallback returns the Fallback field value
func (o *KedaAutoScalerTrait) GetFallback() Fallback {
	if o == nil {
		var ret Fallback
		return ret
	}

	return *o.Properties.Fallback
}

// GetFallbackOk returns a tuple with the Fallback field value
// and a boolean to check if the value has been set.
func (o *KedaAutoScalerTrait) GetFallbackOk() (*Fallback, bool) {
	if o == nil {
		return nil, false
	}
	return o.Properties.Fallback, true
}

// SetFallback sets field value
func (o *KedaAutoScalerTrait) SetFallback(v Fallback) *KedaAutoScalerTrait {
	o.Properties.Fallback = &v
	return o
}

// GetIdleReplicaCount returns the IdleReplicaCount field value
func (o *KedaAutoScalerTrait) GetIdleReplicaCount() int32 {
	if o == nil {
		var ret int32
		return ret
	}

	return *o.Properties.IdleReplicaCount
}

// GetIdleReplicaCountOk returns a tuple with the IdleReplicaCount field value
// and a boolean to check if the value has been set.
func (o *KedaAutoScalerTrait) GetIdleReplicaCountOk() (*int32, bool) {
	if o == nil {
		return nil, false
	}
	return o.Properties.IdleReplicaCount, true
}

// SetIdleReplicaCount sets field value
func (o *KedaAutoScalerTrait) SetIdleReplicaCount(v int32) *KedaAutoScalerTrait {
	o.Properties.IdleReplicaCount = &v
	return o
}

// GetMaxReplicaCount returns the MaxReplicaCount field value
func (o *KedaAutoScalerTrait) GetMaxReplicaCount() int32 {
	if o == nil {
		var ret int32
		return ret
	}

	return *o.Properties.MaxReplicaCount
}

// GetMaxReplicaCountOk returns a tuple with the MaxReplicaCount field value
// and a boolean to check if the value has been set.
func (o *KedaAutoScalerTrait) GetMaxReplicaCountOk() (*int32, bool) {
	if o == nil {
		return nil, false
	}
	return o.Properties.MaxReplicaCount, true
}

// SetMaxReplicaCount sets field value
func (o *KedaAutoScalerTrait) SetMaxReplicaCount(v int32) *KedaAutoScalerTrait {
	o.Properties.MaxReplicaCount = &v
	return o
}

// GetMinReplicaCount returns the MinReplicaCount field value
func (o *KedaAutoScalerTrait) GetMinReplicaCount() int32 {
	if o == nil {
		var ret int32
		return ret
	}

	return *o.Properties.MinReplicaCount
}

// GetMinReplicaCountOk returns a tuple with the MinReplicaCount field value
// and a boolean to check if the value has been set.
func (o *KedaAutoScalerTrait) GetMinReplicaCountOk() (*int32, bool) {
	if o == nil {
		return nil, false
	}
	return o.Properties.MinReplicaCount, true
}

// SetMinReplicaCount sets field value
func (o *KedaAutoScalerTrait) SetMinReplicaCount(v int32) *KedaAutoScalerTrait {
	o.Properties.MinReplicaCount = &v
	return o
}

// GetPollingInterval returns the PollingInterval field value
func (o *KedaAutoScalerTrait) GetPollingInterval() int32 {
	if o == nil {
		var ret int32
		return ret
	}

	return *o.Properties.PollingInterval
}

// GetPollingIntervalOk returns a tuple with the PollingInterval field value
// and a boolean to check if the value has been set.
func (o *KedaAutoScalerTrait) GetPollingIntervalOk() (*int32, bool) {
	if o == nil {
		return nil, false
	}
	return o.Properties.PollingInterval, true
}

// SetPollingInterval sets field value
func (o *KedaAutoScalerTrait) SetPollingInterval(v int32) *KedaAutoScalerTrait {
	o.Properties.PollingInterval = &v
	return o
}

// GetScaleTargetRef returns the ScaleTargetRef field value
func (o *KedaAutoScalerTrait) GetScaleTargetRef() ScaleTargetRef {
	if o == nil {
		var ret ScaleTargetRef
		return ret
	}

	return *o.Properties.ScaleTargetRef
}

// GetScaleTargetRefOk returns a tuple with the ScaleTargetRef field value
// and a boolean to check if the value has been set.
func (o *KedaAutoScalerTrait) GetScaleTargetRefOk() (*ScaleTargetRef, bool) {
	if o == nil {
		return nil, false
	}
	return o.Properties.ScaleTargetRef, true
}

// SetScaleTargetRef sets field value
func (o *KedaAutoScalerTrait) SetScaleTargetRef(v ScaleTargetRef) *KedaAutoScalerTrait {
	o.Properties.ScaleTargetRef = &v
	return o
}

// GetTriggers returns the Triggers field value
func (o *KedaAutoScalerTrait) GetTriggers() []Trigger {
	if o == nil {
		var ret []Trigger
		return ret
	}

	return o.Properties.Triggers
}

// GetTriggersOk returns a tuple with the Triggers field value
// and a boolean to check if the value has been set.
func (o *KedaAutoScalerTrait) GetTriggersOk() ([]Trigger, bool) {
	if o == nil {
		return nil, false
	}
	return o.Properties.Triggers, true
}

// SetTriggers sets field value
func (o *KedaAutoScalerTrait) SetTriggers(v []Trigger) *KedaAutoScalerTrait {
	o.Properties.Triggers = v
	return o
}

func (o KedaAutoScalerSpec) MarshalJSON() ([]byte, error) {
	toSerialize, err := o.ToMap()
	if err != nil {
		return []byte{}, err
	}
	return json.Marshal(toSerialize)
}

func (o KedaAutoScalerSpec) ToMap() (map[string]interface{}, error) {
	toSerialize := map[string]interface{}{}
	toSerialize["cooldownPeriod"] = o.CooldownPeriod
	toSerialize["fallback"] = o.Fallback
	toSerialize["idleReplicaCount"] = o.IdleReplicaCount
	toSerialize["maxReplicaCount"] = o.MaxReplicaCount
	toSerialize["minReplicaCount"] = o.MinReplicaCount
	toSerialize["pollingInterval"] = o.PollingInterval
	toSerialize["scaleTargetRef"] = o.ScaleTargetRef
	toSerialize["triggers"] = o.Triggers
	return toSerialize, nil
}

type NullableKedaAutoScalerSpec struct {
	value *KedaAutoScalerSpec
	isSet bool
}

func (v *NullableKedaAutoScalerSpec) Get() *KedaAutoScalerSpec {
	return v.value
}

func (v *NullableKedaAutoScalerSpec) Set(val *KedaAutoScalerSpec) {
	v.value = val
	v.isSet = true
}

func (v *NullableKedaAutoScalerSpec) IsSet() bool {
	return v.isSet
}

func (v *NullableKedaAutoScalerSpec) Unset() {
	v.value = nil
	v.isSet = false
}

func NewNullableKedaAutoScalerSpec(val *KedaAutoScalerSpec) *NullableKedaAutoScalerSpec {
	return &NullableKedaAutoScalerSpec{value: val, isSet: true}
}

func (v NullableKedaAutoScalerSpec) MarshalJSON() ([]byte, error) {
	return json.Marshal(v.value)
}

func (v *NullableKedaAutoScalerSpec) UnmarshalJSON(src []byte) error {
	v.isSet = true
	return json.Unmarshal(src, &v.value)
}

const KedaAutoScalerType = "keda-auto-scaler"

func init() {
	sdkcommon.RegisterTrait(KedaAutoScalerType, FromTrait)
}

type KedaAutoScalerTrait struct {
	Base       apis.TraitBase
	Properties KedaAutoScalerSpec
}

func KedaAutoScaler() *KedaAutoScalerTrait {
	k := &KedaAutoScalerTrait{Base: apis.TraitBase{}}
	return k
}

func (k *KedaAutoScalerTrait) Build() common.ApplicationTrait {
	res := common.ApplicationTrait{
		Properties: util.Object2RawExtension(k.Properties),
		Type:       KedaAutoScalerType,
	}
	return res
}

func (k *KedaAutoScalerTrait) FromTrait(from common.ApplicationTrait) (*KedaAutoScalerTrait, error) {
	var properties KedaAutoScalerSpec
	if from.Properties != nil {
		err := json.Unmarshal(from.Properties.Raw, &properties)
		if err != nil {
			return nil, err
		}
	}
	k.Base.Type = KedaAutoScalerType
	k.Properties = properties
	return k, nil
}

func FromTrait(from common.ApplicationTrait) (apis.Trait, error) {
	k := &KedaAutoScalerTrait{}
	return k.FromTrait(from)
}

func (k *KedaAutoScalerTrait) DefType() string {
	return KedaAutoScalerType
}
